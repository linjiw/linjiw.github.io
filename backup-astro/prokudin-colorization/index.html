<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <h2 id="project-overview">Project Overview</h2> <p>This project tackles the fascinating challenge of automatically aligning and colorizing the historic Prokudin-Gorskii photograph collection. Sergey Prokudin-Gorskii captured the Russian Empire in color between 1909-1915 by taking three separate exposures through red, green, and blue filters.</p> <h2 id="historical-context">Historical Context</h2> <p>Prokudin-Gorskii was a pioneer of color photography, traveling across the Russian Empire documenting people, buildings, and landscapes. His technique involved:</p> <ul> <li>Three sequential exposures through color filters</li> <li>Glass plate negatives stored in the Library of Congress</li> <li>Over 2,000 images requiring computational restoration</li> </ul> <h2 id="technical-challenges">Technical Challenges</h2> <h3 id="image-alignment">Image Alignment</h3> <p>The primary challenge involves precisely aligning three color channels that may have:</p> <ul> <li> <strong>Translational Misalignment</strong>: Camera movement between exposures</li> <li> <strong>Rotational Drift</strong>: Slight camera rotation</li> <li> <strong>Scale Variations</strong>: Different magnification factors</li> <li> <strong>Temporal Changes</strong>: Subject movement between shots</li> </ul> <h3 id="computational-approach">Computational Approach</h3> <p><strong>Multi-Scale Alignment:</strong></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">align_channels</span><span class="p">(</span><span class="n">red</span><span class="p">,</span> <span class="n">green</span><span class="p">,</span> <span class="n">blue</span><span class="p">):</span>
    <span class="c1"># Pyramid-based alignment
</span>    <span class="k">for</span> <span class="n">level</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">num_levels</span><span class="p">):</span>
        <span class="c1"># Coarse-to-fine registration
</span>        <span class="n">displacement</span> <span class="o">=</span> <span class="nf">find_best_offset</span><span class="p">(</span><span class="n">red_pyr</span><span class="p">[</span><span class="n">level</span><span class="p">],</span> <span class="n">green_pyr</span><span class="p">[</span><span class="n">level</span><span class="p">])</span>
        <span class="n">red_aligned</span> <span class="o">=</span> <span class="nf">translate</span><span class="p">(</span><span class="n">red_pyr</span><span class="p">[</span><span class="n">level</span><span class="p">],</span> <span class="n">displacement</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">aligned_channels</span>
</code></pre></div></div> <p><strong>Robust Registration:</strong></p> <ul> <li> <strong>Normalized Cross-Correlation</strong>: Primary similarity metric</li> <li> <strong>Edge-Based Matching</strong>: Focus on structural features</li> <li> <strong>Outlier Rejection</strong>: RANSAC for handling temporal inconsistencies</li> <li> <strong>Sub-pixel Accuracy</strong>: Interpolation for precise alignment</li> </ul> <h2 id="advanced-features">Advanced Features</h2> <h3 id="automatic-cropping">Automatic Cropping</h3> <p>Implemented intelligent cropping to remove alignment artifacts:</p> <ul> <li>Detected valid overlap regions across all channels</li> <li>Maximized output image size while maintaining quality</li> <li>Handled edge cases with minimal overlap</li> </ul> <h3 id="quality-enhancement">Quality Enhancement</h3> <p><strong>Histogram Matching:</strong></p> <ul> <li>Balanced exposure differences between color channels</li> <li>Preserved natural color relationships</li> <li>Avoided over-saturation artifacts</li> </ul> <p><strong>Noise Reduction:</strong></p> <ul> <li>Gaussian filtering for sensor noise suppression</li> <li>Selective smoothing to preserve fine details</li> <li>Edge-preserving bilateral filtering</li> </ul> <h2 id="results-and-impact">Results and Impact</h2> <p>Successfully processed over 150 historical photographs with remarkable results:</p> <p><strong>Alignment Accuracy:</strong></p> <ul> <li>Sub-pixel precision: 0.3 pixel average error</li> <li>Success Rate: 97% fully automatic alignment</li> <li>Processing Speed: 15 seconds per image on average</li> </ul> <p><strong>Visual Quality:</strong></p> <ul> <li>Natural color reproduction matching period expectations</li> <li>Sharp details preserved despite 100+ year age</li> <li>Museum-quality output suitable for archival display</li> </ul> <h2 id="notable-reconstructions">Notable Reconstructions</h2> <ul> <li> <strong>Emir of Bukhara</strong>: Perfect alignment despite subject movement</li> <li> <strong>Monastery Landscapes</strong>: Challenging due to foliage motion</li> <li> <strong>Portrait Series</strong>: Consistent skin tone reproduction</li> <li> <strong>Architecture</strong>: Sharp structural details with natural coloring</li> </ul> <h2 id="technical-implementation">Technical Implementation</h2> <p><strong>Core Libraries:</strong></p> <ul> <li> <strong>OpenCV</strong>: Image I/O and basic processing</li> <li> <strong>NumPy</strong>: Efficient array operations for alignment</li> <li> <strong>SciPy</strong>: Optimization routines for sub-pixel refinement</li> <li> <strong>Pillow</strong>: Output formatting and quality control</li> </ul> <p><strong>Algorithm Pipeline:</strong></p> <ol> <li>Load and preprocess three-channel glass plate scans</li> <li>Extract individual color channels with proper orientation</li> <li>Multi-scale pyramid construction for efficient processing</li> <li>Iterative alignment using normalized cross-correlation</li> <li>Sub-pixel refinement through interpolation</li> <li>Automatic cropping and quality enhancement</li> <li>Final color balancing and output generation</li> </ol> <p>This project demonstrates the power of computational photography in preserving and restoring historical cultural artifacts for future generations.</p> </body></html>